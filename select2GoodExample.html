<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.1/js/select2.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.1/css/select2.css">
<select id="myexample">
  
</select>
<script type="text/javascript">
  $("#myexample").select2({
      tags:true,
      multiple:true,
      ajax: {
              url: '/buckets/buckets',
              dataType: 'json',
              type: "GET",                    
              data: function (term) {                        
                  return {
                      term: term
                  };
              },
              processResults: function (data) {
                  return {                            
                      results: $.map(data.buckets, function (item) {                                
                          return {
                              text: item.name,                                    
                              id: item.id
                          }
                      })
                  };
              }
          }
  }); 
  // with add new option
  $(".select2_multiple").select2({
    tags:true,
    multiple:true,
  })  
</script>

